FROM golang:1.25-alpine3.22

WORKDIR /app

# 拷贝 go.mod / go.sum 并下载依赖，加速构建
COPY go.mod go.sum ./
RUN go mod download

# 拷贝整个项目
COPY . .

# 运行 test 目录下所有测试
CMD ["go", "test", "-v", "./test/..."]
